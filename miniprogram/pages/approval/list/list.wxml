<!--pages/approval/list/list.wxml-->
<custom-navbar title="æ³¨å†Œå®¡æ‰¹"></custom-navbar>
<view class="container">
  <!-- æ ‡é¢˜åŒºåŸŸ -->
  <view class="header">
    <text class="title">æ³¨å†Œå®¡æ‰¹</text>
    <text class="subtitle">å…± {{totalCount}} ä½å­¦ç”Ÿç­‰å¾…å®¡æ‰¹</text>
  </view>

  <!-- å¾…å®¡æ‰¹åˆ—è¡¨ -->
  <view class="approval-list" wx:if="{{list.length > 0}}">
    <view class="approval-item" wx:for="{{list}}" wx:key="_id">
      <view class="student-info">
        <view class="student-avatar">
          <text>{{item.name[0] || '?'}}</text>
        </view>
        <view class="student-detail">
          <view class="student-name">{{item.name}}</view>
          <view class="student-meta">
            <text class="meta-item">ğŸ“± {{item.phone}}</text>
            <text class="meta-item" wx:if="{{item.className}}">ğŸ« {{item.className}}</text>
          </view>
          <view class="register-time">
            æ³¨å†Œæ—¶é—´ï¼š{{item.createdAt}}
          </view>
        </view>
      </view>
      <view class="action-buttons">
        <button 
          class="btn-approve" 
          bindtap="handleApprove"
          data-id="{{item._id}}"
          data-name="{{item.name}}"
        >
          æ‰¹å‡†
        </button>
        <button 
          class="btn-reject" 
          bindtap="handleReject"
          data-id="{{item._id}}"
          data-name="{{item.name}}"
        >
          æ‹’ç»
        </button>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:elif="{{!isLoading}}">
    <view class="empty-icon">ğŸ‰</view>
    <text class="empty-text">æš‚æ— å¾…å®¡æ‰¹çš„å­¦ç”Ÿ</text>
    <text class="empty-tip">æ‰€æœ‰æ³¨å†Œç”³è¯·å·²å¤„ç†å®Œæ¯•</text>
  </view>

  <!-- åŠ è½½ä¸­ -->
  <view class="loading-state" wx:if="{{isLoading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>
</view>
